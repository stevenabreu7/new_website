{"version":3,"sources":["webpack:///./src/components/Galleries/styles.tsx","webpack:///./src/components/Galleries/index.tsx","webpack:///./src/pages/photos.tsx"],"names":["NewContainer","styled","div","NewImageContainer","NewPortImageContainer","NewImage","figure","Introduction","p","Galleries","useStaticQuery","markdownRemark","allMarkdownRemark","sectionTitle","frontmatter","posts","edges","array","i","length","j","Math","floor","random","shuffleArray","needPortraitNow","isLandscape","node","cover","childImageSharp","fluid","aspectRatio","console","error","nextPortrait","sortForDisplay","Container","section","none","TitleSection","title","subtitle","center","map","item","id","fields","slug","description","date","tags","alt","PhotoPage","Layout","SEO"],"mappings":"yNA+CaA,EAAeC,IAAOC,IAAV,uEAAGD,CAAH,SACnB,6DAGOE,EAAoBF,IAAOC,IAAV,4EAAGD,CAAH,8DAIxB,kFAGOG,EAAwBH,IAAOC,IAAV,gFAAGD,CAAH,6DAI5B,kFAOOI,EAAWJ,IAAOK,OAAV,mEAAGL,CAAH,SACf,gBAGOM,EAAeN,IAAOO,EAAV,uEAAGP,CAAH,uBAEnB,4DCCN,IAgIeQ,EAhIa,WAAM,MAEcC,yBAAe,cAArDC,EAFwB,EAExBA,eAAgBC,EAFQ,EAERA,kBAwClBC,EAA6BF,EAAeG,YAC9CC,EAAgBH,EAAkBI,MAItC,OAzFF,SAAsBC,GACpB,IAAK,IAAIC,EAAID,EAAME,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACvC,IAAME,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,IADH,EAEhB,CAACD,EAAMG,GAAIH,EAAMC,IAAvCD,EAAMC,GAFgC,KAE5BD,EAAMG,GAFsB,MAqF3CI,CAAaT,GA/Ef,SAAwBA,GAEtB,IADA,IAAIU,GAAkB,EACbP,EAAI,EAAGA,EAAIH,EAAMI,OAAO,EAAGD,IAAK,CACvC,IAAIQ,EAAcX,EAAMG,GAAGS,KAAKb,YAAYc,MAAMC,gBAAgBC,MAAMC,YAAc,EACtF,GAAKN,IAAmBC,EAGjB,GAAKD,GAAoBC,EAiBzB,KAAID,IAAmBC,EAGvB,CAELD,GAAkB,EAClB,SAJAO,QAAQA,QAAQC,MAAM,8BAnBqB,CAG3C,IADA,IAAIC,GAAgB,EACXd,EAAIF,EAAE,EAAGE,EAAIL,EAAMI,OAAQC,IAClC,GAAIL,EAAMK,GAAGO,KAAKb,YAAYc,MAAMC,gBAAgBC,MAAMC,aAAe,EAAG,CAC1EG,EAAed,EACf,MAGJ,IAAqB,GAAjBc,EAAoB,OAEc,CAACnB,EAAMA,EAAMI,OAAO,GAAIJ,EAAMG,IAAjEH,EAAMG,GAFe,KAEXH,EAAMA,EAAMI,OAAO,GAFR,SAGjB,OAE+B,CAACJ,EAAMmB,GAAenB,EAAMG,EAAE,IAAjEH,EAAMG,EAAE,GAFJ,KAEQH,EAAMmB,GAFd,KAIPT,GAAkB,IAyDtBU,CAAepB,GAGb,kBAACqB,EAAA,EAAD,CAAWC,SAAO,EAACC,MAAI,GACrB,kBAACC,EAAA,EAAD,CAAcC,MAAO3B,EAAa2B,MAAOC,SAAU5B,EAAa4B,SAAUC,QAAM,IAEhF,kBAAC,EAAD,sPAMA,kBAAC,EAAD,KACG3B,EAAM4B,KAAI,SAACC,GAAS,MAKfA,EAAKjB,KALU,KAEjBkB,GAFiB,EAGjBC,OAAUC,KAHO,EAIjBjC,aAAe0B,EAJE,EAIFA,MAAOZ,EAJL,EAIKA,MAJL,EAIYoB,YAJZ,EAIyBC,KAJzB,EAI+BC,KAElD,GAAItB,EAAMC,gBAAgBC,MACxB,OAAIF,EAAMC,gBAAgBC,MAAMC,aAAe,EAE3C,kBAAC,EAAD,KACI,kBAAC,EAAD,KACE,kBAAC,IAAD,CAAKD,MAAOF,EAAMC,gBAAgBC,MAAOqB,IAAKX,MAMpD,kBAAC,EAAD,KACI,kBAAC,EAAD,KACE,kBAAC,IAAD,CAAKV,MAAOF,EAAMC,gBAAgBC,MAAOqB,IAAKX,YC1IrDY,UATa,WAC1B,OACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKd,MAAM,WACX,kBAAC,EAAD","file":"component---src-pages-photos-tsx-fb34ec8d51dad7d639ea.js","sourcesContent":["import styled from 'styled-components';\nimport tw from 'tailwind.macro';\n\n// export const Posts = styled.div`\n//   ${tw`w-full flex flex-wrap`};\n// `;\n\n// export const Post = styled.div`\n//   ${tw`w-full sm:w-1/2 p-3`};\n// `;\n\n// export const Card = styled.div`\n//   ${tw`w-full h-full rounded-lg flex flex-col overflow-hidden border border-gray-300`};\n// `;\n\n// export const Content = styled.div`\n//   ${tw`p-4 text-indigo-900`};\n// `;\n\n// export const Image = styled.figure`\n//   ${tw`w-full`};\n// `;\n\n// export const Title = styled.h3`\n//   display: inline !important;\n//   float: left;\n//   ${tw`font-semibold -mb-4`};\n// `;\n\n// export const Description = styled.p``;\n\n// export const Date = styled.h3`\n//   display: inline !important;\n//   float: right;\n//   ${tw`text-s text-indigo-500`};\n// `;\n\n// export const Tags = styled.div`\n//   ${tw`p-4 pt-2 mt-auto`}\n// `;\n\n// export const Tag = styled.span`\n//   ${tw`text-xs text-indigo-900 border border-teal-400 rounded-full px-2 py-1 mr-2`}\n// `;\n\n// NEW\n\nexport const NewContainer = styled.div`\n  ${tw`w-full flex flex-wrap h-full`};\n`;\n\nexport const NewImageContainer = styled.div`\n  @media only screen and (max-width: 440px) {\n    width: 100%;\n  }\n  ${tw`w-1/2 md:w-2/6 p-1`};\n`;\n\nexport const NewPortImageContainer = styled.div`\n  @media only screen and (max-width: 440px) {\n    width: 50%;\n  }\n  ${tw`w-1/4 md:w-1/6 p-1`};\n`;\n\n// export const NewCard = styled.div`\n//   ${tw`w-full h-full rounded-lg flex flex-col overflow-hidden border border-gray-300`};\n// `;\n\nexport const NewImage = styled.figure`\n  ${tw`w-full`};\n`;\n\nexport const Introduction = styled.p`\n  margin: 0 auto;\n  ${tw`text-center max-w-4xl pb-4`};\n`;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport Img from 'gatsby-image';\nimport Link from 'gatsby-link';\nimport { motion } from 'framer-motion';\n\nimport Container from 'components/ui/Container';\nimport TitleSection from 'components/ui/TitleSection';\n\nimport { SectionTitle, ImageSharpFluid } from 'helpers/definitions';\n\nimport * as Styled from './styles';\nimport Button from 'components/ui/Button';\n\ninterface Post {\n  node: {\n    id: string;\n    fields: {\n      slug: string;\n    };\n    frontmatter: {\n      title: string;\n      description: string;\n      date: string;\n      tags: string[];\n      cover: {\n        childImageSharp: {\n          fluid: ImageSharpFluid;\n        };\n      };\n    };\n  };\n}\n\nfunction shuffleArray(array: any[]) {\n  for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n  }\n}\n\nfunction sortForDisplay(posts: Post[]) {\n  let needPortraitNow = false;\n  for (let i = 0; i < posts.length-1; i++) {\n    let isLandscape = posts[i].node.frontmatter.cover.childImageSharp.fluid.aspectRatio > 1;\n    if (!needPortraitNow && isLandscape) {\n      // nothing changes, continue\n      continue;\n    } else if (!needPortraitNow && !isLandscape) {\n      // will need a portrait one next! -> get next portrait\n      let nextPortrait = -1;\n      for (let j = i+1; j < posts.length; j++) {\n        if (posts[j].node.frontmatter.cover.childImageSharp.fluid.aspectRatio <= 1) {\n          nextPortrait = j;\n          break;\n        }\n      }\n      if (nextPortrait == -1) {\n        // no more portraits -> move this one to the very back and we're done\n        [posts[i], posts[posts.length-1]] = [posts[posts.length-1], posts[i]];\n      } else {\n        // change the next one with the next portrait\n        [posts[i+1], posts[nextPortrait]] = [posts[nextPortrait], posts[i+1]];\n      }\n      needPortraitNow = true;\n    } else if (needPortraitNow && isLandscape) {\n      // need portrait, got landscape -> change!\n      console.console.error('THIS SHOULD NOT HAPPEN');\n    } else {\n      // need portrait, got portrait - no longer need portrait\n      needPortraitNow = false;\n      continue;\n    }\n  }\n}\n\nconst Galleries: React.FC = () => {\n  \n  const { markdownRemark, allMarkdownRemark } = useStaticQuery(graphql`\n    query {\n      markdownRemark(frontmatter: { category: { eq: \"photos section\" } }) {\n        frontmatter {\n          title\n          subtitle\n        }\n      }\n      allMarkdownRemark(\n        filter: { frontmatter: { category: { eq: \"photos\" }, published: { eq: true } } }\n        sort: { fields: frontmatter___date, order: DESC }\n      ) {\n        edges {\n          node {\n            id\n            html\n            fields {\n              slug\n            }\n            frontmatter {\n              title\n              description\n              date\n              tags\n              cover {\n                childImageSharp {\n                  fluid(maxWidth: 800) {\n                    ...GatsbyImageSharpFluid\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  // date(formatString: \"MMM YYYY\")\n\n  const sectionTitle: SectionTitle = markdownRemark.frontmatter;\n  let posts: Post[] = allMarkdownRemark.edges;\n  shuffleArray(posts);\n  sortForDisplay(posts);\n\n  return (\n    <Container section none>\n      <TitleSection title={sectionTitle.title} subtitle={sectionTitle.subtitle} center />\n\n      <Styled.Introduction>\nPhotography enables us to go where language cannot go, to simply experience and appreciate.\nTo freeze time, to eternalize a moment, to capture truth or to distort it.\nBelow you can see through my eyes: friends, strangers, stories, ideas.\n      </Styled.Introduction>\n\n      <Styled.NewContainer>\n        {posts.map((item) => {\n          const {\n            id,\n            fields: { slug },\n            frontmatter: { title, cover, description, date, tags }\n          } = item.node;\n          if (cover.childImageSharp.fluid) {\n            if (cover.childImageSharp.fluid.aspectRatio <= 1) {\n              return (\n                <Styled.NewPortImageContainer>\n                    <Styled.NewImage>\n                      <Img fluid={cover.childImageSharp.fluid} alt={title} />\n                    </Styled.NewImage>\n                </Styled.NewPortImageContainer>\n              );\n            } else {\n              return (\n                <Styled.NewImageContainer>\n                    <Styled.NewImage>\n                      <Img fluid={cover.childImageSharp.fluid} alt={title} />\n                    </Styled.NewImage>\n                </Styled.NewImageContainer>\n              );\n            }\n          }\n        })}\n      </Styled.NewContainer>\n    </Container>\n  )\n\n  // return (\n  //   <Container section>\n  //     <TitleSection title={sectionTitle.title} subtitle={sectionTitle.subtitle} center />\n\n  //     <Styled.Posts>\n  //       {posts.map((item) => {\n  //         const {\n  //           id,\n  //           fields: { slug },\n  //           frontmatter: { title, cover, description, date, tags }\n  //         } = item.node;\n\n  //         return (\n  //           <Styled.Post key={id}>\n  //             {/* <Link to={slug}> */}\n  //               <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 1 }}>\n  //                 <Styled.Card>\n  //                   <Styled.Image>\n  //                     <Img fluid={cover.childImageSharp.fluid} alt={title} />\n  //                   </Styled.Image>\n  //                   <Styled.Content>\n  //                     <Styled.Date>{date}</Styled.Date>\n  //                     <Styled.Title>{title}</Styled.Title>\n  //                   </Styled.Content>\n  //                   {/* <Styled.Tags>\n  //                     {tags.map((item) => (\n  //                       <Styled.Tag key={item}>{item}</Styled.Tag>\n  //                     ))}\n  //                   </Styled.Tags> */}\n  //                 </Styled.Card>\n  //               </motion.div>\n  //             {/* </Link> */}\n  //           </Styled.Post>\n  //         );\n  //       })}\n  //     </Styled.Posts>\n  //   </Container>\n  // );\n};\n\nexport default Galleries;\n","import React from 'react';\n\nimport Layout from 'components/Layout';\nimport SEO from 'components/SEO';\nimport Galleries from 'components/Galleries';\n\nconst PhotoPage: React.FC = () => {\n  return (\n    <Layout>\n      <SEO title=\"photos\" />\n      <Galleries />\n    </Layout>\n  );\n};\n\nexport default PhotoPage;\n"],"sourceRoot":""}